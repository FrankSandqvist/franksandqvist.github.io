(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{213:function(e,t,a){e.exports=a(400)},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},225:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(33),o=a.n(r),c=(a(218),a(19)),l=(a(219),[{id:"maitorasv",title:"Maito",imageURL:"https://foodieimages.s3.amazonaws.com/images/entries/320x480/6415712506032_0.png",price:.59,category:"Dairy",expirationDate:"12-11-2019"},{id:"frooshakg750",title:"Mehu",imageURL:"https://www.froosh.com/globalassets/inriver/resources/akg-750ml-juice.png?width=450&height=450&mode=crop",price:3.29,category:"Juice",expirationDate:"14-11-2019"},{id:"omena",title:"Omena",imageURL:"https://i5.walmartimages.ca/images/Enlarge/094/514/6000200094514.jpg",price:.54,category:"Fruit",expirationDate:"15-11-2019"},{id:"jauheliha400",title:"Jauheliha",imageURL:"https://www.atria.fi/contentassets/e9a4aec7ef744f33b5407fa39f061b58/4117.jpg?w=555&h=555",price:4.15,category:"Meat",expirationDate:"18-11-2019"},{id:"kanafilnat480",title:"Kana",imageURL:"https://www.atria.fi/contentassets/e25865dcc77a4c6b8ef86178e4f063ab/1689.jpg?w=555&h=555",price:6.29,category:"Meat",expirationDate:"16-11-2019"},{id:"oltermanni450",title:"Juusto",imageURL:"https://cdn.valio.fi/mediafiles/66568094-ae1a-4de4-83d0-b5674dc5b1a4/400x400-product",price:5.29,category:"Dairy",expirationDate:"17-11-2019"},{id:"makaronilaatikko700",title:"Makaronilaatikko",imageURL:"https://www.kokkikartano.fi/app/uploads/2017/05/Lihamakaronilaatikko_700g-0x500-c-default.png",price:6.39,category:"Convenience Foods",expirationDate:"17-11-2019"},{id:"tuorepizzasaar",title:"Pizza",imageURL:"https://www.saarioinen.fi/globalassets/89.-kuluttajat-tuotekuvat-integraatiolla/8551.jpg?mode=crop&scale=both&anchor=middlecenter&w=600",price:5.59,category:"Convenience Foods",expirationDate:"19-11-2019"},{id:"lohi",title:"Lohi",imageURL:"http://www.leroy.fi/files/cache/eaa84d029ccaecefd46e0ef8e7ab39aa_f317.jpg",price:8.99,category:"Fish",expirationDate:"16-11-2019"},{id:"kerma",title:"Kerma",imageURL:"https://public.keskofiles.com/f/k-ruoka/product/6410405142597",price:.89,category:"Dairy",expirationDate:"12-11-2019"},{id:"oatlyik",title:"iKAFFE",imageURL:"https://www.fitnessfirst.fi/media/catalog/product/cache/1/image/x600/e3f29957c4a84f7bf5c1685080c2b7a2/o/a/oatly_ikaffe.png",price:2.49,category:"Oat Products",expirationDate:"15-11-2019"},{id:"freshsalaatti",title:"Kreikkalainen Salaatti",imageURL:"https://hetkessa.fi/wp-content/uploads/2019/01/9153-Kreikkalainen-Salaatti.jpg",price:3.99,category:"Convenience Foods",expirationDate:"17-11-2019"},{id:"nyhtokaura",title:"Nyhto Kaura",imageURL:"https://goldandgreenfoods.com/app/uploads/2019/03/GG_OB_tomaatti_uusiface7.png",price:3.79,category:"Oat Products",expirationDate:"18-11-2019"}]),s=a(422),u=(a(220),function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"intro-text"},"It looks like you're wasting a lot of food, foo"),i.a.createElement(s.a,{onClick:function(){e.onDone()}},"Start"))}),p=a(21),d=a(18),f=a(80),m=a(421),g=a(8),h=a(169),O=(a(225),{THROW_ALL:"\ud83d\ude31",THROW_ALMOST_ALL:"\ud83e\udd26\u200d\u2640\ufe0f",THROW_ABOUT_HALF:"\ud83d\ude4e\u200d\u2640\ufe0f",THROW_SOME_LEFT:"\ud83e\udd37\u200d\u2640\ufe0f",EAT:"\ud83d\ude0b",KEEP:"\ud83d\udce6"});function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(e,t){return"perspective(1500px) rotateX(30deg) rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")},E=(document.body.clientWidth-40)/6,j=document.body.clientHeight/4,v=function(e){var t=Object(n.useState)((function(){return new Set})),a=Object(c.a)(t,1)[0],r=Object(n.useState)((function(){return new Set})),o=Object(c.a)(r,1)[0],l=Object(f.a)(e.itemImages.length,(function(e){return b({},function(e){return{x:0,y:-4*e,scale:1,rot:20*Math.random()-10,delay:100*e}}(e),{from:{x:0,rot:0,scale:1.5,y:-1e3}})})),s=Object(c.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)([null,null]),y=Object(c.a)(d,2),v=Object(c.a)(y[0],2),x=v[0],k=v[1],L=y[1],D=Object(h.a)((function(t){var n=Object(c.a)(t.args,1)[0],i=t.down,r=Object(c.a)(t.movement,2),l=r[0],s=r[1],u=(t.distance,t.direction),d=t.velocity,f=(t.last,x&&x.startsWith("THROW")||u.xDir<0?-1:1);i?L(s<-j?["KEEP",!1]:l<-20-3*E?["THROW_ALL",!1]:l<-20-2*E?["THROW_ALMOST_ALL",!1]:l<-20-E?["THROW_ABOUT_HALF",!1]:l<-20?["THROW_SOME_LEFT",!1]:l<-30&&d>.2?["THROW_ALL",!0]:l>100?["EAT",!1]:l>30&&d>.2?["EAT",!0]:[null,null]):x&&("KEEP"===x?o.add(n):a.add(n),e.onFlick(n,x),L([null,null])),p((function(e){if(n===e){var t=a.has(n),r=t?(200+window.innerWidth)*f:i?l:0,c=o.has(n);return{x:r,y:c?-window.innerHeight:i?s:0,rot:l/100+(t?10*f*d:0),scale:i?1.1:1,delay:void 0,config:{friction:50,tension:i?800:t||c?200:500}}}}))})),R=Object(n.useMemo)((function(){return e.itemExpirationDates.map((function(){return{right:(.5+2*Math.random()).toFixed(1)+"rem",bottom:(.5+2*Math.random()).toFixed(1)+"rem",transform:"rotate("+(2-4*Math.random()).toFixed(1)+"deg)"}}))}),[e.itemExpirationDates.length]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",color:"white",background:"rgba(0,0,0,0.7)",opacity:x&&!k?1:0,transition:"0.5s",zIndex:1e3,pointerEvents:"none",flexDirection:"column"}},x&&!k&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{display:"flex",fontSize:"3rem"}},O[x]),i.a.createElement("div",{style:{display:"flex",fontSize:"1.5rem"}},{THROW_ALL:"I threw it all!",THROW_ALMOST_ALL:"I threw almost all of it",THROW_ABOUT_HALF:"Roughly half left",THROW_SOME_LEFT:"There was some left",KEEP:"I'm keeping it",EAT:"I ate it! Yum!"}[x]))),u.map((function(t,a){var n=t.x,r=t.y,o=t.rot,l=t.scale,s=e.itemExpirationDates[a].split("-"),u=Object(c.a)(s,3),p=u[0],d=u[1],f=u[2],h=new Date(f,d-1,p);console.log(+h,e.date);var O=Math.round((+h-+e.date)/1e3/60/60/24);return i.a.createElement(m.a.div,{className:"card-container",key:a,style:{x:n,y:r}},i.a.createElement(m.a.div,Object.assign({className:"card"},D(a),{style:{transform:Object(g.createAnimatedInterpolation)([o,l],w),backgroundImage:"url(".concat(e.itemImages[a],")")}}),i.a.createElement("div",{style:b({},R[a],{position:"absolute",backgroundColor:O>0?"black":"crimson",padding:"0.5rem",borderRadius:"0.3rem",color:"white",fontFamily:"Impact Label, sans serif"})},O>0?"Expires in "+O+" days.":0===O?"Expires today":"Expired "+Math.abs(O)+" days ago.")))})))};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){var t=e.products,a=Object(n.useState)(null),r=Object(c.a)(a,2),o=r[0],l=r[1],s=Object(n.useState)([]),u=Object(c.a)(s,2),p=u[0],f=u[1];return Object(n.useEffect)((function(){p.length===t.length&&e.onDone(p)}),[p.length]),i.a.createElement(i.a.Fragment,null,o&&i.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"5rem",zIndex:1e3,opacity:0,pointerEvents:"none",animation:"flash 1s",animationFillMode:"forward"}},o),i.a.createElement(v,{date:Date.now(),itemImages:t.map((function(e){return e.imageURL})),itemExpirationDates:t.map((function(e){return e.expirationDate})),onFlick:function(e,a){if(console.log(e,a),l(null),l(O[a]),a.startsWith("THROW")){var n={THROW_ALL:1,THROW_ALMOST_ALL:.8,THROW_ABOUT_HALF:.5,THROW_SOME_LEFT:.2}[a]||0,i=t[e];f((function(e){return[].concat(Object(d.a)(e),[k({},i,{wastedMoney:i.price*n})])}))}if("EAT"===a||"KEEP"===a){var r=t[e];f((function(e){return[].concat(Object(d.a)(e),[k({},r,{wastedMoney:0})])}))}}}))},D=a(79),R=function(e){var t=e.products.reduce((function(e,t){return e+t.price}),0),a=e.wastedProducts.reduce((function(e,t){return e+t.price}),0),n=[{name:"full",price:t/(t+a)},{name:"wasted",price:a/(t+a)}],r=["#ffffff","#ff6900"];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",animation:"appear 2s",animationFillMode:"forward",color:"white",flexDirection:"column"}},i.a.createElement("div",null,0===a?"YOU ROCK!":"\ud83d\udcb8 You just threw away "+a.toFixed(2)+" \u20ac "),i.a.createElement(D.c,{width:200,height:200},i.a.createElement("text",{x:"73",y:"115",fill:"white"},Math.floor(t/(t+a)*100)," %"),i.a.createElement(D.b,{color:r,data:n,cx:100,cy:100,innerRadius:80,outerRadius:90,startAngle:180,endAngle:540,dataKey:"price"},n.map((function(e,t){return i.a.createElement(D.a,{key:"cell-".concat(t),fill:r[t]})}))))))},T=function(){document.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1});var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),s=Object(c.a)(o,2),p=s[0],d=s[1];return 0===a?i.a.createElement(u,{onDone:function(){r(1)}}):1===a?i.a.createElement(L,{onDone:function(e){d(e),r(2)},products:l}):2===a?i.a.createElement(R,{products:l,wastedProducts:p,onReset:function(){r(0)}}):void 0};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(182),A=a.n(_);o.a.render(i.a.createElement(A.a,null,i.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[213,1,2]]]);
//# sourceMappingURL=main.9b716fbd.chunk.js.map