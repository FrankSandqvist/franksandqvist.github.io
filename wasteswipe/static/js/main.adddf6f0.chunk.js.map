{"version":3,"sources":["assets/logo.png","misc/products.js","stages/start/StartStage.js","misc/lookup.js","stages/card-flicking/Cards.js","stages/card-flicking/CardFlickingStage.js","stages/statistics/StatisticsStage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","products","id","title","imageURL","price","category","expirationDate","StartStage","props","src","logo","style","width","maxWidth","alt","className","Button","onClick","onDone","variant","color","fontSize","backgroundColor","size","actionFlashEmojiLookup","THROW_ALL","THROW_ALMOST_ALL","THROW_ABOUT_HALF","THROW_SOME_LEFT","EAT","KEEP","trans","r","s","widthSection","document","body","clientWidth","heightSection","clientHeight","Cards","useState","Set","goneX","goneY","useSprings","itemImages","length","i","x","y","scale","rot","Math","random","delay","to","from","springProps","set","action","hideAction","setAction","bind","useDrag","index","args","down","movement","mx","my","direction","distance","velocity","xDir","last","startsWith","add","onFlick","isGoneX","has","window","innerWidth","isGoneY","innerHeight","undefined","config","friction","tension","labelStyles","useMemo","itemExpirationDates","map","right","toFixed","bottom","transform","height","position","top","left","display","alignItems","justifyContent","background","opacity","transition","zIndex","pointerEvents","flexDirection","split","day","month","year","date","Date","console","log","diff","round","div","key","interpolate","backgroundImage","padding","borderRadius","fontFamily","abs","CardFlickingStage","flash","setFlash","flickedStuff","setFlickedStuff","useEffect","animation","animationFillMode","now","wastePercentage","originalProduct","t","wastedMoney","StatisticsStage","fullPrice","reduce","acc","wastedPrice","wastedProducts","data","name","COLORS","marginBottom","fill","floor","cx","cy","innerRadius","outerRadius","startAngle","endAngle","dataKey","_","onReset","marginTop","App","addEventListener","event","preventDefault","passive","stage","setStage","setWastedProducts","wasted","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"+EAAAA,EAAOC,QAAU,IAA0B,kC,4NCA9BC,G,OAAW,CACtB,CACEC,GAAI,YACJC,MAAO,QACPC,SACE,mFACFC,MAAO,IACPC,SAAU,QACVC,eAAgB,cAElB,CACEL,GAAI,eACJC,MAAO,OACPC,SACE,2GACFC,MAAO,KACPC,SAAU,QACVC,eAAgB,cAElB,CACEL,GAAI,QACJC,MAAO,QACPC,SACE,uEACFC,MAAO,IACPC,SAAU,QACVC,eAAgB,cAElB,CACEL,GAAI,eACJC,MAAO,YACPC,SACE,2FACFC,MAAO,KACPC,SAAU,OACVC,eAAgB,cAElB,CACEL,GAAI,gBACJC,MAAO,OACPC,SACE,2FACFC,MAAO,KACPC,SAAU,OACVC,eAAgB,cAElB,CACEL,GAAI,gBACJC,MAAO,SACPC,SACE,uFACFC,MAAO,KACPC,SAAU,QACVC,eAAgB,cAElB,CACEL,GAAI,sBACJC,MAAO,mBACPC,SACE,gGACFC,MAAO,KACPC,SAAU,oBACVC,eAAgB,cAElB,CACEL,GAAI,iBACJC,MAAO,QACPC,SACE,0IACFC,MAAO,KACPC,SAAU,oBACVC,eAAgB,cAElB,CACEL,GAAI,OACJC,MAAO,OACPC,SACE,4EACFC,MAAO,KACPC,SAAU,OACVC,eAAgB,cAElB,CACEL,GAAI,QACJC,MAAO,QACPC,SAAU,gEACVC,MAAO,IACPC,SAAU,QACVC,eAAgB,cAElB,CACEL,GAAI,UACJC,MAAO,SACPC,SACE,6HACFC,MAAO,KACPC,SAAU,eACVC,eAAgB,cAElB,CACEL,GAAI,gBACJC,MAAO,yBACPC,SACE,iFACFC,MAAO,KACPC,SAAU,oBACVC,eAAgB,cAElB,CACEL,GAAI,aACJC,MAAO,cACPC,SACE,iFACFC,MAAO,KACPC,SAAU,eACVC,eAAgB,gB,oCC9GPC,EAAa,SAAAC,GACxB,OACE,oCACE,yBACEC,IAAKC,IACLC,MAAO,CACLC,MAAO,MACPC,SAAU,SAEZC,IAAI,SAEN,yBAAKC,UAAU,cAAf,0DAGA,kBAACC,EAAA,EAAD,CACEC,QAAS,WACPT,EAAMU,UAERC,QAAQ,YACRR,MAAO,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","file":"static/js/main.adddf6f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2949e7e3.png\";","export const products = [\n  {\n    id: \"maitorasv\",\n    title: \"Maito\",\n    imageURL:\n      \"https://foodieimages.s3.amazonaws.com/images/entries/320x480/6415712506032_0.png\",\n    price: 0.59,\n    category: \"Dairy\",\n    expirationDate: \"12-11-2019\"\n  },\n  {\n    id: \"frooshakg750\",\n    title: \"Mehu\",\n    imageURL:\n      \"https://www.froosh.com/globalassets/inriver/resources/akg-750ml-juice.png?width=450&height=450&mode=crop\",\n    price: 3.29,\n    category: \"Juice\",\n    expirationDate: \"14-11-2019\"\n  },\n  {\n    id: \"omena\",\n    title: \"Omena\",\n    imageURL:\n      \"https://i5.walmartimages.ca/images/Enlarge/094/514/6000200094514.jpg\",\n    price: 0.54,\n    category: \"Fruit\",\n    expirationDate: \"15-11-2019\"\n  },\n  {\n    id: \"jauheliha400\",\n    title: \"Jauheliha\",\n    imageURL:\n      \"https://www.atria.fi/contentassets/e9a4aec7ef744f33b5407fa39f061b58/4117.jpg?w=555&h=555\",\n    price: 4.15,\n    category: \"Meat\",\n    expirationDate: \"18-11-2019\"\n  },\n  {\n    id: \"kanafilnat480\",\n    title: \"Kana\",\n    imageURL:\n      \"https://www.atria.fi/contentassets/e25865dcc77a4c6b8ef86178e4f063ab/1689.jpg?w=555&h=555\",\n    price: 6.29,\n    category: \"Meat\",\n    expirationDate: \"16-11-2019\"\n  },\n  {\n    id: \"oltermanni450\",\n    title: \"Juusto\",\n    imageURL:\n      \"https://cdn.valio.fi/mediafiles/66568094-ae1a-4de4-83d0-b5674dc5b1a4/400x400-product\",\n    price: 5.29,\n    category: \"Dairy\",\n    expirationDate: \"17-11-2019\"\n  },\n  {\n    id: \"makaronilaatikko700\",\n    title: \"Makaronilaatikko\",\n    imageURL:\n      \"https://www.kokkikartano.fi/app/uploads/2017/05/Lihamakaronilaatikko_700g-0x500-c-default.png\",\n    price: 6.39,\n    category: \"Convenience Foods\",\n    expirationDate: \"17-11-2019\"\n  },\n  {\n    id: \"tuorepizzasaar\",\n    title: \"Pizza\",\n    imageURL:\n      \"https://www.saarioinen.fi/globalassets/89.-kuluttajat-tuotekuvat-integraatiolla/8551.jpg?mode=crop&scale=both&anchor=middlecenter&w=600\",\n    price: 5.59,\n    category: \"Convenience Foods\",\n    expirationDate: \"19-11-2019\"\n  },\n  {\n    id: \"lohi\",\n    title: \"Lohi\",\n    imageURL:\n      \"http://www.leroy.fi/files/cache/eaa84d029ccaecefd46e0ef8e7ab39aa_f317.jpg\",\n    price: 8.99,\n    category: \"Fish\",\n    expirationDate: \"16-11-2019\"\n  },\n  {\n    id: \"kerma\",\n    title: \"Kerma\",\n    imageURL: \"https://public.keskofiles.com/f/k-ruoka/product/6410405142597\",\n    price: 0.89,\n    category: \"Dairy\",\n    expirationDate: \"12-11-2019\"\n  },\n  {\n    id: \"oatlyik\",\n    title: \"iKAFFE\",\n    imageURL:\n      \"https://www.fitnessfirst.fi/media/catalog/product/cache/1/image/x600/e3f29957c4a84f7bf5c1685080c2b7a2/o/a/oatly_ikaffe.png\",\n    price: 2.49,\n    category: \"Oat Products\",\n    expirationDate: \"15-11-2019\"\n  },\n  {\n    id: \"freshsalaatti\",\n    title: \"Kreikkalainen Salaatti\",\n    imageURL:\n      \"https://hetkessa.fi/wp-content/uploads/2019/01/9153-Kreikkalainen-Salaatti.jpg\",\n    price: 3.99,\n    category: \"Convenience Foods\",\n    expirationDate: \"17-11-2019\"\n  },\n  {\n    id: \"nyhtokaura\",\n    title: \"Nyhto Kaura\",\n    imageURL:\n      \"https://goldandgreenfoods.com/app/uploads/2019/03/GG_OB_tomaatti_uusiface7.png\",\n    price: 3.79,\n    category: \"Oat Products\",\n    expirationDate: \"18-11-2019\"\n  }\n];\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport \"./StartStage.css\";\nimport logo from \"../../assets/logo.png\";\n\nexport const StartStage = props => {\n  return (\n    <>\n      <img\n        src={logo}\n        style={{\n          width: \"80%\",\n          maxWidth: \"20rem\"\n        }}\n        alt=\"logo\"\n      />\n      <div className=\"intro-text\">\n        It seems like your food wasting habits are going down.\n      </div>\n      <Button\n        onClick={() => {\n          props.onDone();\n        }}\n        variant=\"contained\"\n        style={{\n          color: \"#ff6900\",\n          fontSize: \"1.3rem\",\n          backgroundColor: \"white\"\n        }}\n        size=\"large\"\n      >\n        Let's swipe!\n      </Button>\n    </>\n  );\n};\n","export const actionFlashEmojiLookup = {\n  THROW_ALL: \"😱\",\n  THROW_ALMOST_ALL: \"🤦‍♀️\",\n  THROW_ABOUT_HALF: \"🙎‍♀️\",\n  THROW_SOME_LEFT: \"🤷‍♀️\",\n  EAT: \"😋\",\n  KEEP: \"📦\"\n};\n","import React, { useState, useMemo } from \"react\";\nimport { useSprings, animated, to as interpolate } from \"react-spring\";\nimport { useDrag } from \"react-use-gesture\";\nimport \"./Cards.css\";\nimport { actionFlashEmojiLookup } from \"../../misc/lookup\";\n\nconst to = i => ({\n  x: 0,\n  y: i * -4,\n  scale: 1,\n  rot: -10 + Math.random() * 20,\n  delay: i * 100\n});\nconst from = i => ({ x: 0, rot: 0, scale: 1.5, y: -1000 });\n\nconst trans = (r, s) =>\n  `perspective(1500px) rotateX(30deg) rotateY(${r /\n    10}deg) rotateZ(${r}deg) scale(${s})`;\n\nconst offcenterDeadzone = 20;\nconst widthSection = (document.body.clientWidth - 20 * 2) / 6;\nconst heightSection = document.body.clientHeight / 4;\n\nexport const Cards = props => {\n  const [goneX] = useState(() => new Set()); // The set flags all the cards that are flicked out\n  const [goneY] = useState(() => new Set());\n  const [springProps, set] = useSprings(props.itemImages.length, i => ({\n    ...to(i),\n    from: from(i)\n  })); // Create a bunch of springs using the helpers above\n  const [[action, hideAction], setAction] = useState([null, null]);\n\n  const bind = useDrag(\n    ({\n      args: [index],\n      down,\n      movement: [mx, my],\n      distance,\n      direction,\n      velocity,\n      last\n    }) => {\n      // Direction should either point left or right\n      const xDir =\n        (action && action.startsWith(\"THROW\")) || direction.xDir < 0 ? -1 : 1;\n\n      if (down) {\n        if (my < -heightSection) {\n          setAction([\"KEEP\", false]);\n        } else if (mx < -offcenterDeadzone - widthSection * 3) {\n          setAction([\"THROW_ALL\", false]);\n        } else if (mx < -offcenterDeadzone - widthSection * 2) {\n          setAction([\"THROW_ALMOST_ALL\", false]);\n        } else if (mx < -offcenterDeadzone - widthSection) {\n          setAction([\"THROW_ABOUT_HALF\", false]);\n        } else if (mx < -offcenterDeadzone) {\n          setAction([\"THROW_SOME_LEFT\", false]);\n        } else if (mx < -30 && velocity > 0.2) {\n          setAction([\"THROW_ALL\", true]);\n        } else if (mx > 100) {\n          setAction([\"EAT\", false]);\n        } else if (mx > 30 && velocity > 0.2) {\n          setAction([\"EAT\", true]);\n        } else {\n          setAction([null, null]);\n        }\n      } else if (action) {\n        if (action === \"KEEP\") {\n          goneY.add(index);\n        } else {\n          goneX.add(index);\n        }\n        props.onFlick(index, action);\n        setAction([null, null]);\n      }\n\n      set(i => {\n        // We're only interested in changing spring-data for the current spring\n        if (index !== i) return;\n        const isGoneX = goneX.has(index);\n        // When a card is gone it flys out left or right, otherwise goes back to zero\n        const x = isGoneX ? (200 + window.innerWidth) * xDir : down ? mx : 0;\n        const isGoneY = goneY.has(index);\n        // When a card is gone it flys out left or right, otherwise goes back to zero\n        const y = isGoneY ? -window.innerHeight : down ? my : 0;\n        // How much the card tilts, flicking it harder makes it rotate faster\n        const rot = mx / 100 + (isGoneX ? xDir * 10 * velocity : 0);\n        const scale = down ? 1.1 : 1; // Active cards lift up a bit\n        return {\n          x,\n          y,\n          rot,\n          scale,\n          delay: undefined,\n          config: {\n            friction: 50,\n            tension: down ? 800 : isGoneX || isGoneY ? 200 : 500\n          }\n        };\n      });\n    }\n  );\n\n  const labelStyles = useMemo(() => {\n    return props.itemExpirationDates.map(() => ({\n      right: (0.5 + Math.random() * 2).toFixed(1) + \"rem\",\n      bottom: (0.5 + Math.random() * 2).toFixed(1) + \"rem\",\n      transform: \"rotate(\" + (2 - Math.random() * 4).toFixed(1) + \"deg)\"\n    }));\n    // eslint-disable-next-line\n  }, [props.itemExpirationDates.length]);\n\n  return (\n    <>\n      <div\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"white\",\n          background: \"rgba(0,0,0,0.7)\",\n          opacity: action && !hideAction ? 1 : 0,\n          transition: \"0.5s\",\n          zIndex: 1000,\n          pointerEvents: \"none\",\n          flexDirection: \"column\"\n        }}\n      >\n        {action && !hideAction && (\n          <>\n            <div style={{ display: \"flex\", fontSize: \"3rem\" }}>\n              {actionFlashEmojiLookup[action]}\n            </div>\n            <div style={{ display: \"flex\", fontSize: \"1.5rem\" }}>\n              {\n                {\n                  THROW_ALL: \"I threw it all!\",\n                  THROW_ALMOST_ALL: \"I threw almost all of it\",\n                  THROW_ABOUT_HALF: \"Roughly half left\",\n                  THROW_SOME_LEFT: \"There was some left\",\n                  KEEP: \"I'm keeping it\",\n                  EAT: \"I ate it! Yum!\"\n                }[action]\n              }\n            </div>\n          </>\n        )}\n      </div>\n      {springProps.map(({ x, y, rot, scale }, i) => {\n        const [day, month, year] = props.itemExpirationDates[i].split(\"-\");\n        const date = new Date(year, month - 1, day);\n        console.log(+date, props.date);\n        const diff = Math.round((+date - +props.date) / 1000 / 60 / 60 / 24);\n\n        return (\n          <animated.div className=\"card-container\" key={i} style={{ x, y }}>\n            {/* This is the card itself, we're binding our gesture to it (and inject its index so we know which is which) */}\n\n            <animated.div\n              className=\"card\"\n              {...bind(i)}\n              style={{\n                transform: interpolate([rot, scale], trans),\n                backgroundImage: `url(${props.itemImages[i]})`\n              }}\n            >\n              <div\n                style={{\n                  ...labelStyles[i],\n                  position: \"absolute\",\n\n                  backgroundColor: diff > 0 ? \"black\" : \"crimson\",\n                  padding: \"0.5rem\",\n                  borderRadius: \"0.3rem\",\n                  color: \"white\",\n                  fontFamily: \"Impact Label, sans serif\"\n                }}\n              >\n                {diff > 0\n                  ? \"Expires in \" + diff + \" days.\"\n                  : diff === 0\n                  ? \"Expires today\"\n                  : \"Expired \" + Math.abs(diff) + \" days ago.\"}\n              </div>\n            </animated.div>\n          </animated.div>\n        );\n      })}\n    </>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Cards } from \"./Cards\";\nimport { actionFlashEmojiLookup } from \"../../misc/lookup\";\n\nexport const CardFlickingStage = props => {\n  const { products } = props;\n\n  const [flash, setFlash] = useState(null);\n  const [flickedStuff, setFlickedStuff] = useState([]);\n\n  useEffect(() => {\n    if (flickedStuff.length === products.length) {\n      props.onDone(flickedStuff);\n    }\n    // eslint-disable-next-line\n  }, [flickedStuff.length]);\n\n  return (\n    <>\n      {flash && (\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: \"5rem\",\n            zIndex: 1000,\n            opacity: 0,\n            pointerEvents: \"none\",\n            animation: \"flash 1s\",\n            animationFillMode: \"forward\"\n          }}\n        >\n          {flash}\n        </div>\n      )}\n      <Cards\n        date={Date.now()}\n        itemImages={products.map(i => i.imageURL)}\n        itemExpirationDates={products.map(i => i.expirationDate)}\n        onFlick={(index, action) => {\n          setFlash(null);\n          setFlash(actionFlashEmojiLookup[action]);\n          if (action.startsWith(\"THROW\")) {\n            const wastePercentage =\n              {\n                THROW_ALL: 1,\n                THROW_ALMOST_ALL: 0.8,\n                THROW_ABOUT_HALF: 0.5,\n                THROW_SOME_LEFT: 0.2\n              }[action] || 0;\n            const originalProduct = products[index];\n            setFlickedStuff(t => [\n              ...t,\n              {\n                ...originalProduct,\n                wastedMoney: originalProduct.price * wastePercentage\n              }\n            ]);\n          }\n          if (action === \"EAT\" || action === \"KEEP\") {\n            const originalProduct = products[index];\n            setFlickedStuff(t => [\n              ...t,\n              {\n                ...originalProduct,\n                wastedMoney: 0\n              }\n            ]);\n          }\n        }}\n      />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Cell, PieChart, Pie } from \"recharts\";\nimport { Button } from \"@material-ui/core\";\n\nexport const StatisticsStage = props => {\n  const fullPrice = props.products.reduce((acc, { price }) => acc + price, 0);\n  const wastedPrice = props.wastedProducts.reduce(\n    (acc, { wastedMoney }) => acc + wastedMoney,\n    0\n  );\n  const data = [\n    { name: \"full\", price: fullPrice - wastedPrice },\n    { name: \"wasted\", price: wastedPrice }\n  ];\n\n  const COLORS = [\"#ffffff\", \"#ff6900\"];\n  return (\n    <>\n      <div\n        style={{\n          height: \"100%\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          fontSize: \"2rem\",\n          animation: \"appear 2s\",\n          animationFillMode: \"forward\",\n          color: \"white\",\n          flexDirection: \"column\"\n        }}\n      >\n        {wastedPrice > 0 && (\n          // eslint-disable-next-line\n          <div style={{ marginBottom: \"1rem\", fontSize: \"4rem\" }}>💸</div>\n        )}\n        <div style={{ marginBottom: \"2rem;\" }}>\n          {wastedPrice === 0 ? \"YOU ROCK!\" : \"You just threw away \"}\n        </div>\n        {wastedPrice > 0 && (\n          <>\n            <div style={{ fontSize: \"4rem\", marginBottom: \"2rem\" }}>\n              {wastedPrice.toFixed(2) + \" € \"}\n            </div>\n            <div style={{ marginBottom: \"1rem\" }}>...which means you wasted:</div>\n          </>\n        )}\n        <PieChart width={200} height={200}>\n          <text x=\"73\" y=\"115\" fill=\"white\">\n            {Math.floor(100 * (wastedPrice / fullPrice))} %\n          </text>\n          <Pie\n            color={COLORS}\n            data={data}\n            cx={100}\n            cy={100}\n            innerRadius={80}\n            outerRadius={90}\n            startAngle={180}\n            endAngle={180 + 360}\n            dataKey=\"price\"\n          >\n            {data.map((_, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index]} />\n            ))}\n          </Pie>\n        </PieChart>\n        <Button\n          onClick={() => {\n            props.onReset();\n          }}\n          variant=\"contained\"\n          style={{\n            color: \"#ff6900\",\n            fontSize: \"1.3rem\",\n            backgroundColor: \"white\",\n            marginTop: \"2rem\"\n          }}\n          size=\"large\"\n        >\n          Try again\n        </Button>\n      </div>\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { products } from \"./misc/products\";\nimport { StartStage } from \"./stages/start/StartStage\";\nimport { CardFlickingStage } from \"./stages/card-flicking/CardFlickingStage\";\nimport { StatisticsStage } from \"./stages/statistics/StatisticsStage\";\n\nexport const App = () => {\n  document.addEventListener(\n    \"touchmove\",\n    event => {\n      event.preventDefault();\n    },\n    { passive: false }\n  );\n\n  const [stage, setStage] = useState(0);\n  const [wastedProducts, setWastedProducts] = useState(null);\n\n  return (\n    <div className=\"stage-container\">\n      {stage === 0 ? (\n        <StartStage\n          onDone={() => {\n            setStage(1);\n          }}\n        />\n      ) : stage === 1 ? (\n        <CardFlickingStage\n          onDone={wasted => {\n            setWastedProducts(wasted);\n            setStage(2);\n          }}\n          products={products}\n        />\n      ) : (\n        <StatisticsStage\n          products={products}\n          wastedProducts={wastedProducts}\n          onReset={() => {\n            setStage(0);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}